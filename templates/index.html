<!DOCTYPE html>
<html lang="en" style="background-color: #3A4A4D">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Poetry.lock visualizer</title>
    <link rel="stylesheet" href="{{ url_for('static',filename='styles/style.css') }}">
  </head>
   <body>
      <div class="buttons">
         <form>
            <input type="button" value="Return to parent" onclick="history.back()">
         </form>
         <form>
            <input type="button" value="Upload another file" onclick="parent.location='/'">
         </form>
      </div>
      <div>
         <h1 class="top">Depencies of given project</h1>
         <ul>
            {% for item in value %}
            <li><a href="#" id="{{ item }}" 
               value="{{ item }}">{{ item }}</a></li>
            {% endfor %}
         </ul>
   </div>
   </body>
   <script>
      const Post = (e) => {
         e.preventDefault()

         if(event.target.tagName !== "A"){
            return;
         };
         const form = document.createElement("form");
         form.method = "POST";
         form.action = "/data";
         
         const input = document.createElement("input");
         input.type = "hidden";
         input.name = "name";
         input.value = event.target.id;

         form.appendChild(input);
         document.body.appendChild(form);
         form.submit();    
      }

      document.addEventListener("click", Post);
   </script>
</html>